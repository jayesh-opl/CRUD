import{$ as A,Aa as $e,Ba as Oe,Ca as He,D as ye,Da as Ue,E as d,Ea as Ge,F as he,Fa as Qe,G as Ee,Ga as I,H as Ce,I as be,J as xe,K as Se,M as Me,N as w,O as ve,P as T,R as D,S as De,T as Ie,U as N,V as Fe,_ as k,aa as R,ba as we,ca as L,da as Te,h as _e,i as v,ia as Ne,ka as V,la as z,ma as ke,n as ge,na as Ae,oa as P,pa as j,qa as q,ra as $,sa as O,ta as Re,ua as Le,va as Ve,wa as ze,xa as Pe,ya as je,za as qe}from"./chunk-AJJYB7C4.js";import{$b as Q,Eb as p,Nb as n,Ob as i,Pb as g,Qb as S,Rb as M,Tb as U,Vb as u,Wb as y,_b as G,ac as B,da as ce,ec as a,fc as F,gb as m,gc as f,ia as ue,lb as h,nc as fe,sa as C,sb as x,ta as b,xb as c}from"./chunk-RGQTUNAZ.js";var H=(()=>{class e{constructor(t){this.http=t,this.apiUrl="http://localhost:8080/employee"}getEmployees(t,o,r,s,E){let _={page:o,size:r,sortDir:E};return s&&(_.sortField=s),t&&(_.search=t),this.http.get(this.apiUrl,{params:_})}addUpdate(t){return this.http.post(this.apiUrl,t)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(o){return new(o||e)(ue(ge))}}static{this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function it(e,l){e&1&&(n(0,"mat-error"),a(1," First name is required "),i())}function ot(e,l){e&1&&(n(0,"mat-error"),a(1," First name must contain only letters (A-Z, a-z) "),i())}function nt(e,l){e&1&&(n(0,"mat-error"),a(1," First name must be at most 50 characters "),i())}function rt(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("firstName"))==null?null:t.getError("backend")," ")}}function at(e,l){e&1&&(n(0,"mat-error"),a(1," Last name is required "),i())}function mt(e,l){e&1&&(n(0,"mat-error"),a(1," Last name must contain only letters (A-Z, a-z) "),i())}function lt(e,l){e&1&&(n(0,"mat-error"),a(1," Last name must be at most 50 characters "),i())}function pt(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("lastName"))==null?null:t.getError("backend")," ")}}function st(e,l){e&1&&(n(0,"mat-error"),a(1," Email is required "),i())}function dt(e,l){e&1&&(n(0,"mat-error"),a(1," Email should be valid "),i())}function ct(e,l){e&1&&(n(0,"mat-error"),a(1," Email address must be at most 100 characters "),i())}function ut(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("emailAddress"))==null?null:t.getError("backend")," ")}}function ft(e,l){e&1&&(n(0,"mat-error"),a(1," Mobile number is required "),i())}function _t(e,l){e&1&&(n(0,"mat-error"),a(1," Mobile number must be 7 to 15 digits "),i())}function gt(e,l){e&1&&(n(0,"mat-error"),a(1," Mobile number must be at most 15 digits "),i())}function yt(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("mobileNumber"))==null?null:t.getError("backend")," ")}}function ht(e,l){e&1&&(n(0,"mat-error"),a(1," Department name must be at most 100 characters "),i())}function Et(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("department"))==null?null:t.getError("backend")," ")}}function Ct(e,l){e&1&&(n(0,"mat-error"),a(1," Designation must be at most 100 characters "),i())}function bt(e,l){if(e&1&&(n(0,"mat-error"),a(1),i()),e&2){let t,o=y();m(),f(" ",(t=o.employeeForm.get("designation"))==null?null:t.getError("backend")," ")}}var Je=(()=>{class e{constructor(t,o,r,s){this.fb=t,this.dialogRef=o,this.data=r,this.employeeService=s,this.isEditMode=!1}ngOnInit(){this.isEditMode=!!this.data?.employee,this.employeeForm=this.fb.group({id:[this.data?.employee?.id||null],firstName:[this.data?.employee?.firstName||"",[d.required,d.pattern("^[A-Za-z]+$"),d.maxLength(50)]],lastName:[this.data?.employee?.lastName||"",[d.required,d.pattern("^[A-Za-z]+$"),d.maxLength(50)]],emailAddress:[this.data?.employee?.emailAddress||"",[d.required,d.email,d.maxLength(100)]],mobileNumber:[this.data?.employee?.mobileNumber||"",[d.required,d.pattern("^[1-9]\\d{6,14}$"),d.maxLength(15)]],department:[this.data?.employee?.department||"",[d.maxLength(100)]],designation:[this.data?.employee?.designation||"",[d.maxLength(100)]]})}onSubmit(){this.employeeForm.valid&&(Object.keys(this.employeeForm.controls).forEach(t=>{let o=this.employeeForm.get(t);o?.hasError("backend")&&o.setErrors(null)}),this.employeeService.addUpdate(this.employeeForm.value).subscribe(t=>{if(t.isError&&t.body)for(let o in t.body)this.employeeForm.controls[o]&&this.employeeForm.controls[o].setErrors({backend:t.body[o]});else this.dialogRef.close()}))}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||e)(h(Se),h(V),h(z),h(H))}}static{this.\u0275cmp=x({type:e,selectors:[["app-employee-dialog"]],decls:56,vars:24,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[3,"ngSubmit","formGroup"],["appearance","fill",1,"w-100"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","emailAddress"],["matInput","","formControlName","mobileNumber"],["matInput","","formControlName","department"],["matInput","","formControlName","designation"],["align","end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(o,r){if(o&1&&(n(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),a(3),i()(),n(4,"mat-card-content",2)(5,"form",3),u("ngSubmit",function(){return r.onSubmit()}),n(6,"mat-dialog-content")(7,"mat-form-field",4)(8,"mat-label"),a(9,"First Name"),i(),g(10,"input",5),c(11,it,2,0,"mat-error",6)(12,ot,2,0,"mat-error",6)(13,nt,2,0,"mat-error",6)(14,rt,2,1,"mat-error",6),i(),n(15,"mat-form-field",4)(16,"mat-label"),a(17,"Last Name"),i(),g(18,"input",7),c(19,at,2,0,"mat-error",6)(20,mt,2,0,"mat-error",6)(21,lt,2,0,"mat-error",6)(22,pt,2,1,"mat-error",6),i(),n(23,"mat-form-field",4)(24,"mat-label"),a(25,"Email Address"),i(),g(26,"input",8),c(27,st,2,0,"mat-error",6)(28,dt,2,0,"mat-error",6)(29,ct,2,0,"mat-error",6)(30,ut,2,1,"mat-error",6),i(),n(31,"mat-form-field",4)(32,"mat-label"),a(33,"Mobile Number"),i(),g(34,"input",9),c(35,ft,2,0,"mat-error",6)(36,_t,2,0,"mat-error",6)(37,gt,2,0,"mat-error",6)(38,yt,2,1,"mat-error",6),i(),n(39,"mat-form-field",4)(40,"mat-label"),a(41,"Department"),i(),g(42,"input",10),c(43,ht,2,0,"mat-error",6)(44,Et,2,1,"mat-error",6),i(),n(45,"mat-form-field",4)(46,"mat-label"),a(47,"Designation"),i(),g(48,"input",11),c(49,Ct,2,0,"mat-error",6)(50,bt,2,1,"mat-error",6),i()(),n(51,"mat-dialog-actions",12)(52,"button",13),u("click",function(){return r.onCancel()}),a(53,"Cancel"),i(),n(54,"button",14),a(55),i()()()()()),o&2){let s,E,_,W,J,K,X,Y,ee,te,ie,oe,ne,re,ae,me,le,pe,se,de;m(3),F(r.isEditMode?"Edit Employee":"Add Employee"),m(2),p("formGroup",r.employeeForm),m(6),p("ngIf",(s=r.employeeForm.get("firstName"))==null?null:s.hasError("required")),m(),p("ngIf",(E=r.employeeForm.get("firstName"))==null?null:E.hasError("pattern")),m(),p("ngIf",(_=r.employeeForm.get("firstName"))==null?null:_.hasError("maxLength")),m(),p("ngIf",(W=r.employeeForm.get("firstName"))==null?null:W.hasError("backend")),m(5),p("ngIf",(J=r.employeeForm.get("lastName"))==null?null:J.hasError("required")),m(),p("ngIf",(K=r.employeeForm.get("lastName"))==null?null:K.hasError("pattern")),m(),p("ngIf",(X=r.employeeForm.get("lastName"))==null?null:X.hasError("maxLength")),m(),p("ngIf",(Y=r.employeeForm.get("lastName"))==null?null:Y.hasError("backend")),m(5),p("ngIf",(ee=r.employeeForm.get("emailAddress"))==null?null:ee.hasError("required")),m(),p("ngIf",(te=r.employeeForm.get("emailAddress"))==null?null:te.hasError("email")),m(),p("ngIf",(ie=r.employeeForm.get("emailAddress"))==null?null:ie.hasError("maxLength")),m(),p("ngIf",(oe=r.employeeForm.get("emailAddress"))==null?null:oe.hasError("backend")),m(5),p("ngIf",(ne=r.employeeForm.get("mobileNumber"))==null?null:ne.hasError("required")),m(),p("ngIf",(re=r.employeeForm.get("mobileNumber"))==null?null:re.hasError("pattern")),m(),p("ngIf",(ae=r.employeeForm.get("mobileNumber"))==null?null:ae.hasError("maxLength")),m(),p("ngIf",(me=r.employeeForm.get("mobileNumber"))==null?null:me.hasError("backend")),m(5),p("ngIf",(le=r.employeeForm.get("department"))==null?null:le.hasError("maxLength")),m(),p("ngIf",(pe=r.employeeForm.get("department"))==null?null:pe.hasError("backend")),m(5),p("ngIf",(se=r.employeeForm.get("designation"))==null?null:se.hasError("maxLength")),m(),p("ngIf",(de=r.employeeForm.get("designation"))==null?null:de.hasError("backend")),m(4),p("disabled",r.employeeForm.invalid),m(),f(" ",r.isEditMode?"Update":"Add"," ")}},dependencies:[L,k,R,we,A,Ie,T,w,ve,q,j,P,v,_e,Me,Ce,ye,he,Ee,be,xe,I,N,D],encapsulation:2})}}return e})();var Ke=(()=>{class e{constructor(t,o){this.dialogRef=t,this.data=o}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(o){return new(o||e)(h(V),h(z))}}static{this.\u0275cmp=x({type:e,selectors:[["app-confirm-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click"]],template:function(o,r){o&1&&(n(0,"h2",0),a(1,"Confirm"),i(),n(2,"mat-dialog-content")(3,"p"),a(4),i()(),n(5,"mat-dialog-actions",1)(6,"button",2),u("click",function(){return r.onCancel()}),a(7,"Cancel"),i(),n(8,"button",3),u("click",function(){return r.onConfirm()}),a(9,"Delete"),i()()),o&2&&(m(4),F(r.data.message))},dependencies:[q,Ae,j,P,I,D,v],encapsulation:2})}}return e})();var xt=()=>[10,25,50,100];function St(e,l){e&1&&(n(0,"th",19),a(1,"#"),i())}function Mt(e,l){if(e&1&&(n(0,"td",20),a(1),i()),e&2){let t=l.index,o=y();m(),f(" ",o.currentPage*o.pageSize+t+1," ")}}function vt(e,l){e&1&&(n(0,"th",21),a(1," Name "),i())}function Dt(e,l){if(e&1&&(n(0,"td",20),a(1),i()),e&2){let t=l.$implicit,o=y();m(),f(" ",o.getFullName(t)," ")}}function It(e,l){e&1&&(n(0,"th",21),a(1," Mobile Number "),i())}function Ft(e,l){if(e&1&&(n(0,"td",20),a(1),i()),e&2){let t=l.$implicit;m(),f(" ",t.mobileNumber," ")}}function wt(e,l){e&1&&(n(0,"th",21),a(1," Email Address "),i())}function Tt(e,l){if(e&1&&(n(0,"td",20),a(1),i()),e&2){let t=l.$implicit;m(),f(" ",t.emailAddress," ")}}function Nt(e,l){e&1&&(n(0,"th",19),a(1," Action "),i())}function kt(e,l){if(e&1){let t=U();n(0,"td",20)(1,"div",22)(2,"div",23),u("click",function(){let r=C(t).$implicit,s=y();return b(s.openDialog(r))}),g(3,"span",24),i(),n(4,"div",23),u("click",function(){let r=C(t).$implicit,s=y();return b(s.deleteEmployee(r))}),g(5,"span",25),i()()()}}function At(e,l){e&1&&g(0,"tr",26)}function Rt(e,l){e&1&&g(0,"tr",27)}function Lt(e,l){e&1&&(n(0,"tr",28)(1,"td",29),a(2,"No Data"),i()())}var Xe=(()=>{class e{constructor(t,o){this.employeeService=t,this.dialog=o,this.displayedColumns=["#","name","mobileNumber","emailAddress","action"],this.employees=[],this.totalItems=0,this.pageSize=10,this.currentPage=0,this.sortField="",this.sortDirection="",this.searchValue=""}ngOnInit(){this.loadEmployees()}loadEmployees(){this.employeeService.getEmployees(this.searchValue,this.currentPage,this.pageSize,this.sortField,this.sortDirection).subscribe(t=>{this.employees=t.body.content,this.totalItems=t.body.totalElements})}onPageChange(t){this.pageSize=t.pageSize,this.currentPage=t.pageIndex,this.loadEmployees()}onSortChange(t){this.sortField=t.active==="name"?"firstName":t.active,this.sortDirection=t.direction,this.loadEmployees()}applyFilter(t){let o=t.target.value;this.searchValue=o.trim().toLowerCase(),this.currentPage=0,this.loadEmployees()}getFullName(t){return`${t.firstName} ${t.lastName}`}openDialog(t){this.dialog.open(Je,{width:"500px",data:{employee:t}}).afterClosed().subscribe(r=>{this.loadEmployees()})}deleteEmployee(t){this.dialog.open(Ke,{width:"400px",data:{message:`Are you sure you want to delete ${t.firstName} ${t.lastName}?`}}).afterClosed().subscribe(r=>{r&&this.employeeService.delete(t.id).subscribe(()=>{this.loadEmployees()})})}static{this.\u0275fac=function(o){return new(o||e)(h(H),h(ke))}}static{this.\u0275cmp=x({type:e,selectors:[["app-employee"]],viewQuery:function(o,r){if(o&1&&(G($,5),G(O,5)),o&2){let s;Q(s=B())&&(r.paginator=s.first),Q(s=B())&&(r.sort=s.first)}},decls:33,vars:7,consts:[["input",""],[1,"cardWithShadow"],["matInput","",3,"keyup"],["mat-flat-button","","color","primary",1,"m-20",3,"click"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","mobileNumber"],["matColumnDef","emailAddress"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row text-center",4,"matNoDataRow"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[1,"d-flex"],[1,"cursor-pointer",3,"click"],["matListItemIcon","","data-icon","solar:pen-new-round-line-duotone",1,"iconify","routeIcon","w-20px"],["matListItemIcon","","data-icon","solar:trash-bin-minimalistic-line-duotone",1,"iconify","routeIcon","w-20px","m-l-10"],["mat-header-row",""],["mat-row",""],[1,"mat-row","text-center"],["colspan","5",1,"mat-cell"]],template:function(o,r){if(o&1){let s=U();n(0,"mat-card",1)(1,"mat-card-content")(2,"mat-card-title"),a(3,"Employees"),i(),n(4,"mat-form-field")(5,"mat-label"),a(6,"Search"),i(),n(7,"input",2,0),u("keyup",function(_){return C(s),b(r.applyFilter(_))}),i()(),n(9,"button",3),u("click",function(){return C(s),b(r.openDialog(null))}),a(10,"Add"),i(),n(11,"div",4)(12,"div",5)(13,"table",6),u("matSortChange",function(_){return C(s),b(r.onSortChange(_))}),S(14,7),c(15,St,2,0,"th",8)(16,Mt,2,1,"td",9),M(),S(17,10),c(18,vt,2,0,"th",11)(19,Dt,2,1,"td",9),M(),S(20,12),c(21,It,2,0,"th",11)(22,Ft,2,1,"td",9),M(),S(23,13),c(24,wt,2,0,"th",11)(25,Tt,2,1,"td",9),M(),S(26,14),c(27,Nt,2,0,"th",8)(28,kt,6,0,"td",9),M(),c(29,At,1,0,"tr",15)(30,Rt,1,0,"tr",16)(31,Lt,3,0,"tr",17),i(),n(32,"mat-paginator",18),u("page",function(_){return C(s),b(r.onPageChange(_))}),i()()()()()}o&2&&(m(13),p("dataSource",r.employees),m(16),p("matHeaderRowDef",r.displayedColumns),m(),p("matRowDefColumns",r.displayedColumns),m(2),p("length",r.totalItems)("pageSize",r.pageSize)("pageSizeOptions",fe(6,xt)))},dependencies:[Qe,Le,ze,$e,Pe,Ve,Oe,je,qe,He,Ue,Ge,v,L,k,R,A,I,T,w,N,Te,D,$,O,Re,Ne,Fe,De],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.w-20px[_ngcontent-%COMP%]{width:20px}"]})}}return e})();var ui=[{path:"",component:Xe}];export{ui as PagesRoutes};
